function getDataFromGithub(){var e=inputField.value,t="https://api.github.com/search/users?q="+e,s=new XMLHttpRequest;s.addEventListener("load",reqListener),s.open("GET",t),s.send()}function reqListener(){var e=JSON.parse(this.responseText).items||[];processUsers(e),emptyList(list),insertItemsInList(),setTimeout(addInitialHighlight,20)}function processUsers(e){values=[],numberOfUsersToShow=Math.min(e.length,numberOfUsersToShow);for(var t,s=0;s<numberOfUsersToShow;s++){var i={login:"",url:"",avatar:""};t=e[s],i.login=t.login,i.url=t.html_url,i.avatar=t.avatar_url,values.unshift(i)}}function insertItemsInList(){userList=new List("js-githubUserSearch",options,values)}function emptyList(e){e.innerHTML=""}function addInitialHighlight(){document.querySelector(".js-searchResult").classList.add("highlight")}var numberOfUsersToShow=5,inputField=document.querySelector("#js-searchGitUsersInput"),searchResults,options={valueNames:["login",{attr:"href",name:"url"},{attr:"src",name:"avatar"}],item:"js-searchResult"},values=[],list=document.querySelector(".list"),userList=new List("js-githubUserSearch",options,values);inputField.addEventListener("keypress",function(e){setTimeout(getDataFromGithub,50)}),inputField.addEventListener("keydown",function(e){8===e.keyCode&&setTimeout(getDataFromGithub,50)});
function moveHighlightUp(){for(var i=document.querySelectorAll(".js-searchResult"),e=i.length,t=0;t<e;t++)if(i[t].classList.contains("highlight")&&0!=t)return i[t].classList.remove("highlight"),void i[t-1].classList.add("highlight")}function moveHighlightDown(){for(var i=document.querySelectorAll(".js-searchResult"),e=i.length,t=0;t<e;t++)if(i[t].classList.contains("highlight")&&t!=numberOfUsersToShow-1)return i[t].classList.remove("highlight"),void i[t+1].classList.add("highlight")}function clickHighlightedLink(){document.querySelector(".highlight a").click()}var inputField=document.querySelector("#js-searchGitUsersInput");inputField.addEventListener("keydown",function(i){40===i.keyCode?moveHighlightDown():38===i.keyCode?moveHighlightUp():13===i.keyCode&&clickHighlightedLink()});